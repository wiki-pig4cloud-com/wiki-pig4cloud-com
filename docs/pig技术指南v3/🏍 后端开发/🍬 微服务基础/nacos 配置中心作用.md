## 传统项目处理配置的问题


### <font style="color:#121212;">1. 静态化配置</font><font style="color:#121212;"></font>
<font style="color:#121212;">大多数在项目配置写在例如 </font>**<font style="color:#121212;">application.propertie</font>**<font style="color:#121212;">，然后将各类 参数配置、应用配置、环境配置、安全配置、业务配置 都写到这个文件里。当项目代码逻辑中需要使用配置的时候，就从这个配置文件中读取。这种做法虽然简单，但如果参数需要修改，就非常的不灵活，甚至</font>**<font style="color:#E8323C;">需要重启运行中的项目才能生效</font>**<font style="color:#121212;">。</font>

<font style="color:#121212;"></font>

#### <font style="color:#121212;">2. 配置文件无法区分环境。</font>
<font style="color:#121212;">由于配置文件是放在项目中的，但是我们项目可能会有多个环境，例如：测试环境、预发布环境、生产环境。每一个环境所使用的配置参数理论上都是不同的，所以我们在配置文件中根据</font>**<font style="color:#E8323C;">不同环境配置不同的参数，这些都是手动维护</font>**<font style="color:#121212;">，在项目发布的时候，极其容易因开发人员的失误导致出错。</font>

<font style="color:#121212;"></font>

![](https://cdn.nlark.com/yuque/0/2020/png/283679/1600612946527-35ead177-2178-439c-8b32-ca7f8574299a.png)

<font style="color:#121212;"></font>

### <font style="color:#121212;">3. 配置文件过于分散</font>
<font style="color:#121212;">如果一个项目中存在多个逻辑模块独立部署，每个模块所使用的配置内容又不相同，传统的做法是会在每一个模块中都放一个配置文件，甚至不同模块的配置文件格式还不一样。那么长期的结果就是</font>**<font style="color:#E8323C;">配置文件过于分散混乱，难以管理</font>**<font style="color:#121212;">。</font>

<font style="color:#121212;"></font>

### <font style="color:#121212;">4. 配置修改无法追溯</font>
<font style="color:#121212;">因为采用的静态配置文件方式，所以当配置进行修改之后，</font>**<font style="color:#E8323C;">不容易形成记录</font>**<font style="color:#121212;">，更无法追溯是谁修改的、修改时间是什么、修改前是什么内容。既然无法追溯，那么当配置出错时，更没办法回滚配置了。</font>

<font style="color:#121212;"></font>

## Nacos 配置中心


传统配置的方式已经暴露出了很多问题，其他的诸如：历史版本管理，权限控制，安全性等等问题，是传统的配置文件无法解决的！

随着业务的发展、微服务架构的升级，服务的数量、程序的配置日益增多（各种微服务、各种服务器地址、各种参数），传统的配置文件方式和数据库的方式已无法满足开发人员对配置管理的要求：

+ 安全性：配置跟随源代码保存在代码库中，容易造成配置泄漏；
+ 时效性：修改配置，需要重启服务才能生效；
+ 局限性：无法支持动态调整：例如日志开关、功能开关；

因此，我们需要配置中心来统一管理配置！把业务开发者从复杂以及繁琐的配置中解脱出来，只需专注于业务代码本身，从而能够显著提升开发以及运维效率。同时将配置和发布包解藕也进一步提升发布的成功率，并为运维的细力度管控、应急处理等提供强有力的支持。



![](https://cdn.nlark.com/yuque/0/2020/png/283679/1600613145744-4584849f-9695-4b56-98a9-2acf87397c94.png)



参考资料： [https://zhuanlan.zhihu.com/p/66097586](https://zhuanlan.zhihu.com/p/66097586)   [https://zhuanlan.zhihu.com/p/58113078](https://zhuanlan.zhihu.com/p/58113078)



